{"version":3,"sources":["./src/app/pages/virtual-list/virtual-list.page.html","./src/app/shared/components/data-details/data-details.component.html","./src/app/core/config/const/const.ts","./src/app/core/models/itemPhoto/Item.photo.model.ts","./src/app/core/services/photoList/api/photo.list.api.service.ts","./src/app/pages/virtual-list/virtual-list-routing.module.ts","./src/app/pages/virtual-list/virtual-list.module.ts","./src/app/pages/virtual-list/virtual-list.page.scss","./src/app/pages/virtual-list/virtual-list.page.ts","./src/app/shared/components/data-details/data-details.component.scss","./src/app/shared/components/data-details/data-details.component.ts","./src/app/shared/pipes/filter/filter.pipe.ts","./src/app/shared/shared.module.ts"],"names":[],"mappings":"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","file":"pages-virtual-list-virtual-list-module-es2015.js","sourcesContent":["export default \"\\n<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Listado Imagenes\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Listado Imagenes</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div id=\\\"container\\\">\\n    <ion-list>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"4\\\">\\n            <ion-searchbar \\n              [(ngModel)]=\\\"searchId\\\" \\n              placeholder=\\\"ID\\\" \\n              inputmode=\\\"numeric\\\" \\n              type=\\\"number\\\" \\n              animated ></ion-searchbar>\\n          </ion-col>\\n          <ion-col size=\\\"8\\\">\\n            <ion-searchbar [(ngModel)]=\\\"searchText\\\" placeholder=\\\"Texto\\\" animated></ion-searchbar>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n      <ion-item>\\n        <ion-label>Cargar Todos los Datos</ion-label>\\n        <ion-checkbox color=\\\"primary\\\" checked slot=\\\"start\\\" [(ngModel)]=\\\"blAll\\\" (ionChange)=\\\"ngCheckOnChange()\\\"></ion-checkbox>\\n      </ion-item>\\n      <ion-virtual-scroll [items]=\\\"dataList | filterData: searchId: searchText\\\">\\n        <ion-item *virtualItem=\\\"let item\\\">\\n          <app-data-details [dataModel]=\\\"item\\\"></app-data-details>\\n        </ion-item>\\n      </ion-virtual-scroll>\\n    </ion-list>\\n    \\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n</ion-content>\\n\";","export default \"<ion-item *ngIf=\\\"dataModel != null\\\">\\n  <ion-thumbnail slot=\\\"start\\\">\\n    <img [src]='dataModel.photo'>\\n  </ion-thumbnail>\\n  <ion-label>{{dataModel.text}}</ion-label>\\n</ion-item>\\n<ion-item *ngIf=\\\"dataModel == null\\\">\\n  <ion-thumbnail slot=\\\"start\\\">\\n    <img src='https://www.freeiconspng.com/uploads/error-icon-28.png'>\\n  </ion-thumbnail>\\n  <ion-label>ERROR CARGANDO CONTENIDO</ion-label>\\n</ion-item>\\n\";","export class Const {\r\n    public static maxElement = 4000;\r\n    public static page = 1;\r\n    public static count = 20;\r\n\r\n}\r\n","export class ItemPhoto {\n    id: number;\n    photo: string;\n    text: string;\n\n    constructor(id: number, text: string){\n        this.id = id;\n        this.photo = 'https://picsum.photos/id/'+  id + '/500/500.jpg';\n        this.text = text;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\nimport { Observable, of } from 'rxjs';\nimport { Const } from 'src/app/core/config/const/const';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PhotoListApiService {\n\n  constructor() { }\n\n  public get(page?: number, count?: number): Observable<Array<ItemPhoto>>{\n    return of(this.generateWithPagination(page, count));\n  }\n\n  public getAll(): Observable<Array<ItemPhoto>>{\n    return of(this.generateAll());\n  }\n\n  private generateWithPagination(page: number, count: number){\n    let resp = new Array<ItemPhoto>();\n    let max: number; // Máximo de elementos en la página\n    let index: number;\n\n    // Valores por defecto, se pueden parametrizar\n    page = (page === null || page < 1) ? Const.page : page;\n    count = (count === null || count < 1) ? Const.count : count;\n    \n    // Inicializamos el indice de posicionamiento del array\n    index = (page-1)*count;\n\n    // Comprobamos que no sobrepasamos el número de elementos máximos que se pueden mostrar en total\n    max = ((page * count) > Const.maxElement) ? max = Const.maxElement: (page * count);\n\n    for(index; index<max; index++){\n      let value: ItemPhoto;\n      value = new ItemPhoto(index, this.generateTextRamdom(index));\n      resp.push(value);\n    }\n\n    return resp;\n  }\n\n  private generateAll(){\n    let resp = new Array<ItemPhoto>();\n\n    for(let index = 0; index < Const.maxElement; index++){\n      let value: ItemPhoto;\n      value = new ItemPhoto(index, this.generateTextRamdom(index));\n      resp.push(value);\n    }\n\n    return resp;\n  }\n\n  private generateTextRamdom(index: number): string {\n    let str:string;\n\n    switch(index%10){\n      case 0:\n        str = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.';\n        break;\n      case 1:\n        str = 'Quisque in leo placerat, mollis enim ut, pharetra risus.';\n        break;\n      case 2:\n        str = 'Praesent elementum massa sed enim maximus, pulvinar luctus nisi sodales.';\n        break;\n      case 3:\n        str = 'Vivamus vulputate odio ac blandit mollis.';\n        break;\n      case 4:\n        str = 'Aliquam maximus turpis et elit scelerisque pretium.';\n        break;\n      case 5:\n        str = 'Phasellus sit amet erat dapibus, porttitor nisl eget, sodales lectus.';\n        break;\n      case 6:\n        str = 'Aliquam sollicitudin metus vel imperdiet sollicitudin.';\n        break;\n      case 7:\n        str = 'Nullam sodales nisl et leo dapibus, et posuere velit aliquam.';\n        break;\n      case 8:\n        str = 'Vestibulum bibendum eros in sem condimentum, vitae efficitur nulla lobortis.';\n        break;\n      case 9:\n        str = 'Nulla id lorem pretium, auctor quam pellentesque, porttitor sapien.';\n        break;\n      default:\n        str = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.';\n        break;\n    }\n\n    return str;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VirtualListPage } from './virtual-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VirtualListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VirtualListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VirtualListPageRoutingModule } from './virtual-list-routing.module';\n\nimport { VirtualListPage } from './virtual-list.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VirtualListPageRoutingModule,\n    SharedModule\n  ],\n  declarations: [VirtualListPage]\n})\nexport class VirtualListPageModule {}\n","export default \"ion-menu-button {\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdmlydHVhbC1saXN0L0M6XFxVc2Vyc1xcMzQ2MDBcXERlc2t0b3BcXFBydWViYVRlY25pY2FcXHRlc3RfYXBwL3NyY1xcYXBwXFxwYWdlc1xcdmlydHVhbC1saXN0XFx2aXJ0dWFsLWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy92aXJ0dWFsLWxpc3QvdmlydHVhbC1saXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLCtCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy92aXJ0dWFsLWxpc3QvdmlydHVhbC1saXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1tZW51LWJ1dHRvbiB7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIH1cclxuICAiLCJpb24tbWVudS1idXR0b24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufSJdfQ== */\";","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { IonInfiniteScroll, IonVirtualScroll } from '@ionic/angular';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\nimport { PhotoListApiService } from 'src/app/core/services/photoList/api/photo.list.api.service';\nimport { Const } from 'src/app/core/config/const/const';\n\n@Component({\n  selector: 'app-virtual-list',\n  templateUrl: './virtual-list.page.html',\n  styleUrls: ['./virtual-list.page.scss'],\n})\nexport class VirtualListPage implements OnInit {\n\n  // Variable para almacenar los elementos a mostrar por pantalla\n  public dataList = new Array<ItemPhoto>();\n\n  // Variable para almacenar el ID que se desea buscar\n  public searchId: number;\n\n  // Variable para controlar si traemos todos los datos\n  public blAll = false;\n\n  // Variable para almacenar el Texto que se desea buscar\n  public searchText: string;\n\n  // Control de la pagina en la que nos encontramos cuando NO cargamos todos los datos\n  private currentPage = 1;\n\n  // Control de elementos cargados por pagina. Sería facilmente parametrizable\n  private currentCount = 20;\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  @ViewChild(IonVirtualScroll) virtualScroll: IonVirtualScroll;\n\n  constructor(private service: PhotoListApiService) { }\n\n  ngOnInit(){\n    // Inicializamos los elementos que se mostraran al comienzo\n    this.service.get(this.currentPage, this.currentCount).subscribe(\n      (values: Array<ItemPhoto>)=>{\n        values.forEach((value)=>{\n          this.dataList.push(value);\n        });\n      });\n  }\n\n  // Funcion que carga los elementos de la lista por paginación controlando el scroll de la pagina\n  public loadData(event): void {\n    this.currentPage++;\n    this.service.get(this.currentPage, this.currentCount).subscribe(\n      (values: Array<ItemPhoto>)=>{\n        values.forEach(\n          (value)=>{\n            this.dataList.push(value);\n          }\n        );\n        \n        // Ocultar loading de lista infinita al completar\n        event.target.complete();\n\n        //Volver a mostrar la lista de Virtual Scroll después de agregar nuevos datos\n        this.virtualScroll.checkEnd();\n\n        // Lógica de la aplicación para determinar si todos los datos están cargados\n        // y deshabilitar el desplazamiento infinito\n        if (this.dataList.length === Const.maxElement) {\n          event.target.disabled = true;\n        }\n    }\n  );\n  }\n\n  // Método que se lanza al cambiar el valos de blAll.\n  // Según su valor carga el contenido de todos los elementos o carga los elementos según paginación\n  public ngCheckOnChange(): void{\n    if(this.blAll){\n      this.dataList = [];\n      \n      this.service.getAll().subscribe(\n        (values: Array<ItemPhoto>)=>{\n          values.forEach((value)=>{\n            this.dataList.push(value);\n          });\n          this.toggleInfiniteScroll();\n        });\n    }\n    else{\n      this.dataList = [];\n      this.currentPage = Const.page;\n      this.currentCount = Const.count;\n      this.service.get(this.currentPage, this.currentCount).subscribe(\n        (values: Array<ItemPhoto>)=>{\n          values.forEach((value)=>{\n            this.dataList.push(value);\n          });\n          this.toggleInfiniteScroll();\n        });\n    }\n  }\n\n  private toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RhdGEtZGV0YWlscy9kYXRhLWRldGFpbHMuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, Input } from '@angular/core';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\n\n@Component({\n  selector: 'app-data-details',\n  templateUrl: './data-details.component.html',\n  styleUrls: ['./data-details.component.scss'],\n})\nexport class DataDetailsComponent {\n\n  @Input()\n  dataModel: ItemPhoto;\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\n\n@Pipe({\n  name: 'filterData'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(listData: Array<ItemPhoto>, searchId?:string, searchText?: string ):  Array<ItemPhoto> {\n    let auxList: Array<ItemPhoto>;\n    if(!searchText && !searchId){\n      return listData;\n    }\n    else{\n      \n      if(searchId)\n      {\n        let parseNumber = Number.parseInt(searchId);\n        auxList = listData.filter((value)=>{\n          return value.id == parseNumber\n        })\n      }\n      else{\n        auxList = [...listData];\n      }\n      if(searchText)\n      {\n        auxList = auxList.filter((value)=>{\n          return value.text.includes(searchText)\n        })\n      }\n    }\n    return auxList;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataDetailsComponent } from './components/data-details/data-details.component';\nimport { FilterPipe } from './pipes/filter/filter.pipe';\n\n\n\n@NgModule({\n  declarations: [\n    DataDetailsComponent,\n    FilterPipe\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports:[\n    DataDetailsComponent,\n    FilterPipe\n  ]\n})\nexport class SharedModule { }\n"],"sourceRoot":"webpack:///"}