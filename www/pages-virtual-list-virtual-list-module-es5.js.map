{"version":3,"sources":["webpack:///src/app/pages/virtual-list/virtual-list.page.html","webpack:///src/app/shared/components/data-details/data-details.component.html","webpack:///src/app/core/config/const/const.ts","webpack:///src/app/core/models/itemPhoto/Item.photo.model.ts","webpack:///src/app/core/services/photoList/api/photo.list.api.service.ts","webpack:///src/app/pages/virtual-list/virtual-list-routing.module.ts","webpack:///src/app/pages/virtual-list/virtual-list.module.ts","webpack:///src/app/pages/virtual-list/virtual-list.page.scss","webpack:///src/app/pages/virtual-list/virtual-list.page.ts","webpack:///src/app/shared/components/data-details/data-details.component.scss","webpack:///src/app/shared/components/data-details/data-details.component.ts","webpack:///src/app/shared/pipes/filter/filter.pipe.ts","webpack:///src/app/shared/shared.module.ts"],"names":["Const","maxElement","page","count","ItemPhoto","id","text","photo","PhotoListApiService","generateWithPagination","generateAll","resp","Array","max","index","value","generateTextRamdom","push","str","providedIn","routes","path","component","VirtualListPageRoutingModule","imports","forChild","exports","VirtualListPageModule","declarations","VirtualListPage","service","dataList","blAll","currentPage","currentCount","get","subscribe","values","forEach","event","target","complete","virtualScroll","checkEnd","length","disabled","getAll","toggleInfiniteScroll","infiniteScroll","selector","template","DataDetailsComponent","FilterPipe","listData","searchId","searchText","auxList","parseNumber","Number","parseInt","filter","includes","name","SharedModule"],"mappings":"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","file":"pages-virtual-list-virtual-list-module-es5.js","sourcesContent":["export default \"\\n<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Listado Imagenes\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Listado Imagenes</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div id=\\\"container\\\">\\n    <ion-list>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col size=\\\"4\\\">\\n            <ion-searchbar \\n              [(ngModel)]=\\\"searchId\\\" \\n              placeholder=\\\"ID\\\" \\n              inputmode=\\\"numeric\\\" \\n              type=\\\"number\\\" \\n              animated ></ion-searchbar>\\n          </ion-col>\\n          <ion-col size=\\\"8\\\">\\n            <ion-searchbar [(ngModel)]=\\\"searchText\\\" placeholder=\\\"Texto\\\" animated></ion-searchbar>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n      <ion-item>\\n        <ion-label>Cargar Todos los Datos</ion-label>\\n        <ion-checkbox color=\\\"primary\\\" checked slot=\\\"start\\\" [(ngModel)]=\\\"blAll\\\" (ionChange)=\\\"ngCheckOnChange()\\\"></ion-checkbox>\\n      </ion-item>\\n      <ion-virtual-scroll [items]=\\\"dataList | filterData: searchId: searchText\\\">\\n        <ion-item *virtualItem=\\\"let item\\\">\\n          <app-data-details [dataModel]=\\\"item\\\"></app-data-details>\\n        </ion-item>\\n      </ion-virtual-scroll>\\n    </ion-list>\\n    \\n    <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n      <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Loading more data...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n</ion-content>\\n\";","export default \"<ion-item *ngIf=\\\"dataModel != null\\\">\\n  <ion-thumbnail slot=\\\"start\\\">\\n    <img [src]='dataModel.photo'>\\n  </ion-thumbnail>\\n  <ion-label>{{dataModel.text}}</ion-label>\\n</ion-item>\\n<ion-item *ngIf=\\\"dataModel == null\\\">\\n  <ion-thumbnail slot=\\\"start\\\">\\n    <img src='https://www.freeiconspng.com/uploads/error-icon-28.png'>\\n  </ion-thumbnail>\\n  <ion-label>ERROR CARGANDO CONTENIDO</ion-label>\\n</ion-item>\\n\";","export class Const {\r\n    public static maxElement = 4000;\r\n    public static page = 1;\r\n    public static count = 20;\r\n\r\n}\r\n","export class ItemPhoto {\n    id: number;\n    photo: string;\n    text: string;\n\n    constructor(id: number, text: string){\n        this.id = id;\n        this.photo = 'https://picsum.photos/id/'+  id + '/500/500.jpg';\n        this.text = text;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\nimport { Observable, of } from 'rxjs';\nimport { Const } from 'src/app/core/config/const/const';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PhotoListApiService {\n\n  constructor() { }\n\n  public get(page?: number, count?: number): Observable<Array<ItemPhoto>>{\n    return of(this.generateWithPagination(page, count));\n  }\n\n  public getAll(): Observable<Array<ItemPhoto>>{\n    return of(this.generateAll());\n  }\n\n  private generateWithPagination(page: number, count: number){\n    let resp = new Array<ItemPhoto>();\n    let max: number; // Máximo de elementos en la página\n    let index: number;\n\n    // Valores por defecto, se pueden parametrizar\n    page = (page === null || page < 1) ? Const.page : page;\n    count = (count === null || count < 1) ? Const.count : count;\n    \n    // Inicializamos el indice de posicionamiento del array\n    index = (page-1)*count;\n\n    // Comprobamos que no sobrepasamos el número de elementos máximos que se pueden mostrar en total\n    max = ((page * count) > Const.maxElement) ? max = Const.maxElement: (page * count);\n\n    for(index; index<max; index++){\n      let value: ItemPhoto;\n      value = new ItemPhoto(index, this.generateTextRamdom(index));\n      resp.push(value);\n    }\n\n    return resp;\n  }\n\n  private generateAll(){\n    let resp = new Array<ItemPhoto>();\n\n    for(let index = 0; index < Const.maxElement; index++){\n      let value: ItemPhoto;\n      value = new ItemPhoto(index, this.generateTextRamdom(index));\n      resp.push(value);\n    }\n\n    return resp;\n  }\n\n  private generateTextRamdom(index: number): string {\n    let str:string;\n\n    switch(index%10){\n      case 0:\n        str = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.';\n        break;\n      case 1:\n        str = 'Quisque in leo placerat, mollis enim ut, pharetra risus.';\n        break;\n      case 2:\n        str = 'Praesent elementum massa sed enim maximus, pulvinar luctus nisi sodales.';\n        break;\n      case 3:\n        str = 'Vivamus vulputate odio ac blandit mollis.';\n        break;\n      case 4:\n        str = 'Aliquam maximus turpis et elit scelerisque pretium.';\n        break;\n      case 5:\n        str = 'Phasellus sit amet erat dapibus, porttitor nisl eget, sodales lectus.';\n        break;\n      case 6:\n        str = 'Aliquam sollicitudin metus vel imperdiet sollicitudin.';\n        break;\n      case 7:\n        str = 'Nullam sodales nisl et leo dapibus, et posuere velit aliquam.';\n        break;\n      case 8:\n        str = 'Vestibulum bibendum eros in sem condimentum, vitae efficitur nulla lobortis.';\n        break;\n      case 9:\n        str = 'Nulla id lorem pretium, auctor quam pellentesque, porttitor sapien.';\n        break;\n      default:\n        str = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.';\n        break;\n    }\n\n    return str;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VirtualListPage } from './virtual-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VirtualListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VirtualListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VirtualListPageRoutingModule } from './virtual-list-routing.module';\n\nimport { VirtualListPage } from './virtual-list.page';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VirtualListPageRoutingModule,\n    SharedModule\n  ],\n  declarations: [VirtualListPage]\n})\nexport class VirtualListPageModule {}\n","export default \"ion-menu-button {\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdmlydHVhbC1saXN0L0M6XFxVc2Vyc1xcMzQ2MDBcXERlc2t0b3BcXFBydWViYVRlY25pY2FcXHRlc3RfYXBwL3NyY1xcYXBwXFxwYWdlc1xcdmlydHVhbC1saXN0XFx2aXJ0dWFsLWxpc3QucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy92aXJ0dWFsLWxpc3QvdmlydHVhbC1saXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLCtCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy92aXJ0dWFsLWxpc3QvdmlydHVhbC1saXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1tZW51LWJ1dHRvbiB7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIH1cclxuICAiLCJpb24tbWVudS1idXR0b24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufSJdfQ== */\";","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { IonInfiniteScroll, IonVirtualScroll } from '@ionic/angular';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\nimport { PhotoListApiService } from 'src/app/core/services/photoList/api/photo.list.api.service';\nimport { Const } from 'src/app/core/config/const/const';\n\n@Component({\n  selector: 'app-virtual-list',\n  templateUrl: './virtual-list.page.html',\n  styleUrls: ['./virtual-list.page.scss'],\n})\nexport class VirtualListPage implements OnInit {\n\n  // Variable para almacenar los elementos a mostrar por pantalla\n  public dataList = new Array<ItemPhoto>();\n\n  // Variable para almacenar el ID que se desea buscar\n  public searchId: number;\n\n  // Variable para controlar si traemos todos los datos\n  public blAll = false;\n\n  // Variable para almacenar el Texto que se desea buscar\n  public searchText: string;\n\n  // Control de la pagina en la que nos encontramos cuando NO cargamos todos los datos\n  private currentPage = 1;\n\n  // Control de elementos cargados por pagina. Sería facilmente parametrizable\n  private currentCount = 20;\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  @ViewChild(IonVirtualScroll) virtualScroll: IonVirtualScroll;\n\n  constructor(private service: PhotoListApiService) { }\n\n  ngOnInit(){\n    // Inicializamos los elementos que se mostraran al comienzo\n    this.service.get(this.currentPage, this.currentCount).subscribe(\n      (values: Array<ItemPhoto>)=>{\n        values.forEach((value)=>{\n          this.dataList.push(value);\n        });\n      });\n  }\n\n  // Funcion que carga los elementos de la lista por paginación controlando el scroll de la pagina\n  public loadData(event): void {\n    this.currentPage++;\n    this.service.get(this.currentPage, this.currentCount).subscribe(\n      (values: Array<ItemPhoto>)=>{\n        values.forEach(\n          (value)=>{\n            this.dataList.push(value);\n          }\n        );\n        \n        // Ocultar loading de lista infinita al completar\n        event.target.complete();\n\n        //Volver a mostrar la lista de Virtual Scroll después de agregar nuevos datos\n        this.virtualScroll.checkEnd();\n\n        // Lógica de la aplicación para determinar si todos los datos están cargados\n        // y deshabilitar el desplazamiento infinito\n        if (this.dataList.length === Const.maxElement) {\n          event.target.disabled = true;\n        }\n    }\n  );\n  }\n\n  // Método que se lanza al cambiar el valos de blAll.\n  // Según su valor carga el contenido de todos los elementos o carga los elementos según paginación\n  public ngCheckOnChange(): void{\n    if(this.blAll){\n      this.dataList = [];\n      \n      this.service.getAll().subscribe(\n        (values: Array<ItemPhoto>)=>{\n          values.forEach((value)=>{\n            this.dataList.push(value);\n          });\n          this.toggleInfiniteScroll();\n        });\n    }\n    else{\n      this.dataList = [];\n      this.currentPage = Const.page;\n      this.currentCount = Const.count;\n      this.service.get(this.currentPage, this.currentCount).subscribe(\n        (values: Array<ItemPhoto>)=>{\n          values.forEach((value)=>{\n            this.dataList.push(value);\n          });\n          this.toggleInfiniteScroll();\n        });\n    }\n  }\n\n  private toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RhdGEtZGV0YWlscy9kYXRhLWRldGFpbHMuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, Input } from '@angular/core';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\n\n@Component({\n  selector: 'app-data-details',\n  templateUrl: './data-details.component.html',\n  styleUrls: ['./data-details.component.scss'],\n})\nexport class DataDetailsComponent {\n\n  @Input()\n  dataModel: ItemPhoto;\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { ItemPhoto } from 'src/app/core/models/itemPhoto/Item.photo.model';\n\n@Pipe({\n  name: 'filterData'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(listData: Array<ItemPhoto>, searchId?:string, searchText?: string ):  Array<ItemPhoto> {\n    let auxList: Array<ItemPhoto>;\n    if(!searchText && !searchId){\n      return listData;\n    }\n    else{\n      \n      if(searchId)\n      {\n        let parseNumber = Number.parseInt(searchId);\n        auxList = listData.filter((value)=>{\n          return value.id == parseNumber\n        })\n      }\n      else{\n        auxList = [...listData];\n      }\n      if(searchText)\n      {\n        auxList = auxList.filter((value)=>{\n          return value.text.includes(searchText)\n        })\n      }\n    }\n    return auxList;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataDetailsComponent } from './components/data-details/data-details.component';\nimport { FilterPipe } from './pipes/filter/filter.pipe';\n\n\n\n@NgModule({\n  declarations: [\n    DataDetailsComponent,\n    FilterPipe\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports:[\n    DataDetailsComponent,\n    FilterPipe\n  ]\n})\nexport class SharedModule { }\n"]}